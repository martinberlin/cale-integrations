{% extends '/base.html.twig' %}
{% set carousel_high = 110 %}

{% block stylesheets %}
    <style>
        #myCarousel.carousel {
            height: {{ carousel_high }}px;
        }
        #myCarousel .item {
            height: {{ carousel_high }}px; width: 100%;
            background-color: #333;
        }
    </style>
{% endblock stylesheets %}
{% block carousel %}
    {% include "/partials/carousel.html.twig" %}
{% endblock carousel %}

{% block body %}
    <div class="col-md-8 col-sm-8 col-xs-12" style="margin-top: -2em">
        <h3>
            <span class="cale" style="font-weight:bold">CALE News</span>
        </h3>
        <div class="row">
            <div class="col-md-6 col-xs-12">
                <h4>A new weather API: OpenWeather</h4>
            </div>
            <div class="col-md-6 col-xs-12 text-right cale" style="margin-top:0.6em;font-weight:bold">
            <h5>TUE 28, APRIL ´20</h5>
            </div>
        </div>

        <p>On 27 of this month add a new API was added:<br>
            <a href="https://openweathermap.org/api" target="_blank">OpenWeather</a>
            Click there to Signup and get an API Key.<br>

            It's easy to add, just go to <b>Content <span class="glyphicon glyphicon-arrow-right"></span> Add API</b>
            and paste the key.
            Adjust your latitude/longitude coordinates and you are done.<br>

            There is something new also that users in the USA requested: <b>Temperature units</b><br>
            </p>
        <ul><li>Metric - our usual EU Degrees ( C° )</li><li>Imperial - The imperium Farenheits ( F° )</li></ul>

        <blockquote class="twitter-tweet"><p lang="en" dir="ltr">I added <a href="https://twitter.com/OpenWeatherMap?ref_src=twsrc%5Etfw">@OpenWeatherMap</a> API to <a href="https://t.co/BOdI8uxQ0w">https://t.co/BOdI8uxQ0w</a> here a short preview:<br>
                <span class="glyphicon glyphicon-arrow-left"></span> Left DarkSky<br>
                <span class="glyphicon glyphicon-arrow-right"></span>Right OpenWeather
                <a href="https://t.co/m7ndiZv0Pr">pic.twitter.com/m7ndiZv0Pr</a></p>&mdash; Martin the Creator (@martinfasani)
            <a href="https://twitter.com/martinfasani/status/1255026612501983232?ref_src=twsrc%5Etfw">April 28, 2020</a></blockquote>

        <p>I must say it's not as nice as the old DarkSky, that had a cool one day prediction sentence,
            like the morning wakeup call "Today will start raining till next Tuesday".</p>
        <p>At least we did not find it. But it's enough to have Temperature and Humidity prediction for the next hours to see
            if you need to take the Umbrella or not.</p>
        <h4>TFT Firmware update</h4>
        <blockquote class="twitter-tweet"><p lang="en" dir="ltr">Here an example of how can you steal 40 mins of your sleep time:<br>Add a simple progress bar to a image download in <a href="https://twitter.com/hashtag/esp32?src=hash&amp;ref_src=twsrc%5Etfw">#esp32</a> ;)<a href="https://t.co/Ht2uP4jV25">https://t.co/Ht2uP4jV25</a> <a href="https://t.co/7TbgytJcto">pic.twitter.com/7TbgytJcto</a></p>&mdash; Martin the Creator (@martinfasani) <a href="https://twitter.com/martinfasani/status/1255250771429466115?ref_src=twsrc%5Etfw">April 28, 2020</a></blockquote>
        <p>The TFT Firmware got a small update so now seems stable to use, this is just a demo for anyone wanting to implement
            a welcome Screen for example in his project.
            It can enable our Users to ship a product where you can announce every now and then an update,
            that you control from our Web-Service.
            But we are not focusing in TFT our main focus will be to have a low consumption Eink Firmware.</p>

        <p>I found a flaw in the Firmware that got an update last weekend.
            It was not going to sleep when it wakes up out of the Service Times.
            The Service Times concept is easy to grasp:<br>You set a predefined time period where your display should refresh.
            The display wakes up and pings cale, the actual URL is your screen URL with /st at the end.

            This route returns just one byte: 0 or 1.&nbsp; On 1 your display should be the seconds connected till downloading
            your image and rendering it. Then goes to sleep another round.
            Now on 0, it just wakes up that second, and goes to sleep again saving your battery like 10 seconds of high consumption
            and your display from a refresh when you are sleeping. </p>
        <p>And on 0 was not sleeping. Now is fixed and if the Firmware is updated it can stay longer time working.
            So for those of you that can update the Firmware, please do it.
            Our estimations are that the Service Time can increase battery lifetime at least 20% or more depending on your setups.
            <h4>The 10 pix left margin issue</h4>
            <img style="border:1px solid black;float:right;margin-left:1em;margin-bottom:2px" src="/img/www/news/screen-10-pix.jpg">
           We don't want to take a decision that will affect all User Screens without asking for permission.
        So we asked about feedback in our last newsletter and we are working in a solution.
        </p>

    </div>

    <div class="row">
        <div class="col-md-4 col-sm-4 col-xs-12"></div>
        <div class="col-md-4 col-sm-4 col-xs-12 text-center">
            <button type="button" class="btn btn-success form-control" onclick="window.location='{{ path('register') }}'">
                Register here to receive the newsletter</button>
        </div>
    </div>

{% endblock %}

{% block javascripts %}
    <script type="text/javascript" src="/js/engine/common.js"></script>
    <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
{% endblock %}