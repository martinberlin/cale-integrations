{% extends 'backend/backend-base.html.twig' %}

{% block body %}

{{ form_start(form) }}
{{ form_errors(form) }}

    <div class="row" >
        <div class="col-md-6">
            {{ form_row(form.name) }}

            {{ form_row(form.templateTwig) }}

            {{ form_row(form.display) }}

            {{ form_widget(form.submit) }}
        </div>
        <div class="col-md-6 text-right" style="margin-top: -1.4em">
            <img id="template" src=""><br>

            {% if uuid is not null %}
                <a href="{{ path('b_screen_partials', {'uuid':uuid}) }}"
                   style="margin-right: 3.8em"
                   class="alert alert-info">Edit content partials</a>
            {% endif %}
        </div>
    </div>

{{ form_end(form) }}

{% endblock %}


{% block javascripts %}
<script>
let template_twig = document.getElementById('templateTwig');
let template_img = document.getElementById('template');

setTemplateImage();

template_twig.onchange = function() {
    setTemplateImage();
}

function setTemplateImage() {
    let img_src= template_twig.value.replace('html.twig','svg');
    template_img.src = '/img/display-templates/'+img_src;
}
</script>

{% endblock javascripts %}